<!DOCTYPE html>
<html lang="en" data-framework="angularjs" ng-app="app">
	<head>
		<title>test</title>
		<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.10/angular.min.js"></script>
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
		<!-- Optional theme -->
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
		<!-- Latest compiled and minified JavaScript -->
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
		<script src="js/app.js"></script>
		<link rel="stylesheet" href="css/main.css"/>
		
	</head>
	<body ng-controller="MainCtrl">
	
	<h1>Generate SQL INSERT statements looping over fields</h1>
	
	<form class="container-fluid form-inline">
		<div class="form-group">
			<label for="table-name" class="control-label">Table Name</label> 
			<input type="text" id="table-name" ng-model="tableName" class="form-control"/>
		</div>
		<h3>Fields 
			<button ng-click="addField()" class="btn btn-default">Add Field</button>
			<button ng-click="resetFields()" class="btn btn-default">Reset</button>
		</h3>
		
		<div id="fields">
			<div ng-repeat="field in fields">
				<div class="form-group table-field-row">
					<button ng-click="removeField(field)" class="btn btn-default btn-xs remove-field-btn">x</button>
					<label class="control-label">Name</label>
					<input type="text" ng-model="field.name" class="form-control" placeholder="Field name"/> 
					<select ng-options="fieldType.type as fieldType.type for fieldType in fieldTypes" ng-model="field.type" class="form-control"></select>
					<input type="text" ng-model="field.value" ng-show="field.type == 'value'" class="form-control" placeholder="Field value"/>
					<div class="form-group" ng-show="field.type == 'iterator'">
						<label class="control-label">Iterator Type</label> 
						<select ng-options="iteratorType.type as iteratorType.type for iteratorType in iteratorTypes" 
									ng-model="field.iterator.type" class="form-control"></select>
						<div class="form-group" ng-show="field.iterator.type == 'numeric'">
							<label class="control-label">From</label>
							<input type="text" ng-model="field.iterator.from" class="form-control"/>
							<label class="control-label">To</label>
							<input type="text" ng-model="field.iterator.to" class="form-control"/>
						</div>
						<div class="form-group" ng-show="field.iterator.type == 'array'">
							<label for="table-name" class="control-label">Comma Separated Values</label>
							<input type="text" ng-model="field.iterator.arrayValues" class="form-control" placeholder="(e.g.: 'value1', 'value2', 'value3')"/>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<button ng-click="generateSql()" class="btn btn-default">Generate SQL</button>
		
		<div id="generated-sql"><pre>{{generatedSql}}</pre></div>
	</form>
	
	</body>
</html>